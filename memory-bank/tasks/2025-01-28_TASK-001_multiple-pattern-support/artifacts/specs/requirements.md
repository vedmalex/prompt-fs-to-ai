# Технические требования: Поддержка множественных паттернов для опции -p

## Функциональные требования

### FR-001: Множественные паттерны
**Описание:** Опция `-p, --pattern` должна поддерживать множественные glob паттерны
**Входные данные:** Массив строк с glob паттернами
**Ожидаемое поведение:** Все указанные паттерны обрабатываются и объединяются в результирующий набор файлов

**Примеры использования:**
```bash
# Множественные паттерны
prompt-fs-to-ai ./src -p "**/*.ts" "**/*.js" "**/*.json"

# Смешанные паттерны для точного контроля
prompt-fs-to-ai ./project -p "src/**/*.ts" "docs/**/*.md" "config/*.json"

# Обратная совместимость
prompt-fs-to-ai ./src -p "**/*.ts"
```

### FR-002: Обратная совместимость
**Описание:** Существующий синтаксис с одним паттерном должен продолжать работать
**Критерий принятия:** Все существующие команды работают без изменений

### FR-003: Обработка дубликатов
**Описание:** Если файл соответствует нескольким паттернам, он должен включаться только один раз
**Критерий принятия:** Отсутствие дублирующихся файлов в результате

## Технические требования

### TR-001: Commander.js интеграция
**Описание:** Использовать синтаксис `<patterns...>` в Commander.js для множественных значений
**Реализация:** Изменить `.option('-p, --pattern <pattern>', ...)` на `.option('-p, --pattern <patterns...>', ...)`

### TR-002: Glob обработка
**Описание:** Каждый паттерн должен обрабатываться отдельно через Glob API
**Реализация:** Итерация по массиву паттернов и объединение результатов

### TR-003: Генерация команды
**Описание:** Обновить функцию генерации строки команды для корректного отображения множественных паттернов
**Формат:** `-p "pattern1" "pattern2" "pattern3"`

## Ограничения и допущения

### L-001: Производительность
**Ограничение:** При большом количестве паттернов может снижаться производительность
**Решение:** Документировать рекомендации по использованию

### L-002: Сложность паттернов
**Ограничение:** Сложные пересекающиеся паттерны могут приводить к неожиданным результатам
**Решение:** Документировать лучшие практики

## Критерии принятия

### AC-001: Функциональность
- [ ] CLI принимает множественные паттерны через опцию -p
- [ ] Все паттерны корректно обрабатываются
- [ ] Файлы не дублируются в результате
- [ ] Обратная совместимость сохранена

### AC-002: Качество кода
- [ ] Код соответствует существующему стилю
- [ ] Добавлены комментарии на английском языке
- [ ] TypeScript типы корректно обновлены

### AC-003: Тестирование
- [ ] Покрытие тестами >= 85%
- [ ] Успешность тестов = 100%
- [ ] Тесты покрывают edge cases

### AC-004: Документация
- [ ] Обновлена справка CLI
- [ ] Примеры использования в README
- [ ] Документированы лучшие практики